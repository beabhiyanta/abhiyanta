---
import BaseLayout from "./BaseLayout.astro";
const { frontmatter } = Astro.props;
let chapters = await Astro.glob("../pages/chapter/*.md");
chapters = chapters.filter((chapter) => chapter.frontmatter.module === frontmatter.title);
---

<BaseLayout pageTitle={frontmatter.title}>
  <div class="py-16">
    <h1>{frontmatter.title}</h1>
    <div class="grid sm:grid-cols-3">
      <div class="sm:col-span-2 py-8 flex flex-col gap-8">
        {
          chapters.map((chapter) => (
            <div>
              <h3>
                <a href={chapter.url}>{chapter.frontmatter.title}</a>
              </h3>
              <p>{chapter.frontmatter.description}</p>
            </div>
          ))
        }
      </div>
      <div class="sm:col-span-1">
        <img src={frontmatter.image} />
      </div>
    </div>
  </div>
</BaseLayout>
